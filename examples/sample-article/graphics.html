<!DOCTYPE html>
<!--**************************************-->
<!--*    Generated from PreTeXt source   *-->
<!--*    on 2020-02-21T15:08:44-06:00    *-->
<!--*                                    *-->
<!--*      https://pretextbook.org       *-->
<!--*                                    *-->
<!--**************************************-->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SA Graphics</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width,  initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
<script src="https://sagecell.sagemath.org/embedded_sagecell.js"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']]
    },
    asciimath2jax: {
        ignoreClass: ".*",
        processClass: "has_am"
    },
    jax: ["input/AsciiMath"],
    extensions: ["asciimath2jax.js"],
    TeX: {
        extensions: ["extpfeil.js", "autobold.js", "https://pretextbook.org/js/lib/mathjaxknowl.js", "AMScd.js", ],
        // scrolling to fragment identifiers is controlled by other Javascript
        positionToHash: false,
        equationNumbers: { autoNumber: "none", useLabelIds: true, },
        TagSide: "right",
        TagIndent: ".8em",
    },
    // HTML-CSS output Jax to be dropped for MathJax 3.0
    "HTML-CSS": {
        scale: 88,
        mtextFontInherit: true,
    },
    CommonHTML: {
        scale: 88,
        mtextFontInherit: true,
    },
});
/* support for the sfrac command in MathJax (Beveled fraction) */
/* see: https://github.com/mathjax/MathJax-docs/wiki/Beveled-fraction-like-sfrac,-nicefrac-bfrac */
MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
  var MML = MathJax.ElementJax.mml,
      TEX = MathJax.InputJax.TeX;
  TEX.Definitions.macros.sfrac = "myBevelFraction";
  TEX.Parse.Augment({
    myBevelFraction: function (name) {
      var num = this.ParseArg(name),
          den = this.ParseArg(name);
      this.Push(MML.mfrac(num,den).With({bevelled: true}));
    }
  });
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML-full"></script><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.13/pretext.js"></script><script src="https://pretextbook.org/js/0.13/pretext_add_on.js"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.31/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.31/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.31/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.31/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.31/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.31/style_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.31/colors_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.31/setcolors.css" rel="stylesheet" type="text/css">
<!-- 2019-10-12: Temporary - CSS file for experiments with styling --><link href="developer.css" rel="stylesheet" type="text/css">
<script src="http://pythontutor.com/build/pytutor-embed.bundle.js?cc25af72af"></script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
</head>
<body id="pretext-SA" class="mathbook-article has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div class="hidden-content" style="display:none">\(\require{cancel}\newcommand{\definiteintegral}[4]{\int_{#1}^{#2}\,#3\,d#4} 
\newcommand{\myequation}[2]{#1\amp =#2} 
\newcommand{\indefiniteintegral}[2]{\int#1\,d#2}
\newcommand{\testingescapedpercent}{ \% } 
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href="https://pretextbook.org" target="_blank"><img src="images/book-cover-google-art-project.jpg" alt="Logo image"></a><div class="title-container">
<h1 class="heading"><a href="derivatives.html"><span class="title">Derivatives and Integrals:</span> <span class="subtitle">An Annotated Discourse</span></a></h1>
<p class="byline">Robert Beezer</p>
</div>
</div></div>
<nav id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3">
<a class="index-button toolbar-item button" href="index-1.html" title="Index">Index</a><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="text-in-paragraphs.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="derivatives.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="section-10.html" title="Next">Next</a></span>
</div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="text-in-paragraphs.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="derivatives.html" title="Up">Up</a><a class="next-button button toolbar-item" href="section-10.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link"><a href="frontmatter.html" data-scroll="frontmatter"><span class="title">Front Matter</span></a></li>
<li class="link"><a href="section-1.html" data-scroll="section-1"><span class="codenumber">1</span> <span class="title">Introduction</span></a></li>
<li class="link"><a href="section-fundamental-theorem.html" data-scroll="section-fundamental-theorem"><span class="codenumber">2</span> <span class="title">The Fundamental Theorem</span></a></li>
<li class="link"><a href="section-sage-cells.html" data-scroll="Abc"><span class="codenumber">3</span> <span class="title">Computing Integrals with Sage (\(\int\))</span></a></li>
<li class="link">
<a href="interesting-corollary.html" data-scroll="interesting-corollary"><span class="codenumber">4</span> <span class="title">An Interesting Corollary</span></a><ul>
<li><a href="interesting-corollary.html#subsection-second-FTC" data-scroll="subsection-second-FTC">Second Version of <abbr class="acronym">FTC</abbr></a></li>
<li><a href="interesting-corollary.html#subsection-2" data-scroll="subsection-2">A Pedagogical Note about Subsection 4.1</a></li>
<li><a href="interesting-corollary.html#subsection-3" data-scroll="subsection-3">Theorem-Like Environments</a></li>
<li><a href="interesting-corollary.html#subsection-4" data-scroll="subsection-4">Linking Sage Cells</a></li>
<li><a href="interesting-corollary.html#subsection-5" data-scroll="subsection-5">Hierarchy</a></li>
<li><a href="interesting-corollary.html#subsection-intro-conclude" data-scroll="subsection-intro-conclude">Introductions and Conclusions</a></li>
<li><a href="interesting-corollary.html#subsection-paragraph-markup" data-scroll="subsection-paragraph-markup">Some Paragraph-Level Markup</a></li>
</ul>
</li>
<li class="link"><a href="section-5.html" data-scroll="Bcd"><span class="codenumber">5</span> <span class="title">Some Facts and Figures</span></a></li>
<li class="link"><a href="section-6.html" data-scroll="section-6"><span class="codenumber">6</span> <span class="title">Some Advanced Ideas</span></a></li>
<li class="link">
<a href="section-7.html" data-scroll="section-7"><span class="codenumber">7</span> <span class="title">Mathematics</span></a><ul>
<li><a href="section-7.html#subsection-8" data-scroll="subsection-8">Basic Mathematics</a></li>
<li><a href="section-7.html#subsection-9" data-scroll="subsection-9">Displayed Mathematics</a></li>
<li><a href="section-7.html#subsection-10" data-scroll="subsection-10"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> Packages and MathJax Extensions</a></li>
<li><a href="section-7.html#subsection-11" data-scroll="subsection-11">Advanced Mathematics</a></li>
<li><a href="section-7.html#subsection-12" data-scroll="subsection-12">Local Tags on Equations</a></li>
<li><a href="section-7.html#commutative-diagrams" data-scroll="commutative-diagrams">Commutative Diagrams</a></li>
</ul>
</li>
<li class="link">
<a href="text-in-paragraphs.html" data-scroll="text-in-paragraphs"><span class="codenumber">8</span> <span class="title">Text in Paragraphs</span></a><ul>
<li><a href="text-in-paragraphs.html#subsection-xml-escape" data-scroll="subsection-xml-escape">Special <abbr class="initialism">XML</abbr> characters</a></li>
<li><a href="text-in-paragraphs.html#subsection-15" data-scroll="subsection-15">Quotations</a></li>
<li><a href="text-in-paragraphs.html#subsection-16" data-scroll="subsection-16">Groupings</a></li>
<li><a href="text-in-paragraphs.html#subsection-17" data-scroll="subsection-17">Characters, Symbols, and Constructions</a></li>
<li><a href="text-in-paragraphs.html#subsection-18" data-scroll="subsection-18">Currency</a></li>
<li><a href="text-in-paragraphs.html#subsection-icons-in-text" data-scroll="subsection-icons-in-text">Icons in Text</a></li>
<li><a href="text-in-paragraphs.html#subsection-keyboard" data-scroll="subsection-keyboard">Keyboard Keys</a></li>
<li><a href="text-in-paragraphs.html#section-urls" data-scroll="section-urls">URLs, such as <code class="code-inline tex2jax_ignore">http://example.com</code></a></li>
<li><a href="text-in-paragraphs.html#subsection-22" data-scroll="subsection-22">Biological Names</a></li>
<li><a href="text-in-paragraphs.html#subsection-23" data-scroll="subsection-23">Verbatim in titles, <code class="code-inline tex2jax_ignore">\a&amp;b#c%d~e{f}g$h_i^j</code>, OK</a></li>
<li><a href="text-in-paragraphs.html#subsection-special-situations" data-scroll="subsection-special-situations">Special Situations</a></li>
<li><a href="text-in-paragraphs.html#subsection-jupyter-dollars" data-scroll="subsection-jupyter-dollars">Jupyter Notebook, Markdown, MathJax, Delimiters</a></li>
<li><a href="text-in-paragraphs.html#subsection-26" data-scroll="subsection-26"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> Characters, Ligatures, and More</a></li>
<li><a href="text-in-paragraphs.html#subsection-27" data-scroll="subsection-27"><abbr class="initialism">HTML</abbr> and accidental mathematics</a></li>
</ul>
</li>
<li class="link active">
<a href="graphics.html" data-scroll="graphics"><span class="codenumber">9</span> <span class="title">Graphics</span></a><ul>
<li><a href="graphics.html#subsection-28" data-scroll="subsection-28">Images from External Sources</a></li>
<li><a href="graphics.html#subsection-29" data-scroll="subsection-29"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> images</a></li>
<li><a href="graphics.html#subsection-30" data-scroll="subsection-30">Asymptote</a></li>
<li><a href="graphics.html#graphics-asymptote-webgl" data-scroll="graphics-asymptote-webgl">Asymptote + WebGL</a></li>
<li><a href="graphics.html#subsection-32" data-scroll="subsection-32">Sage Plots</a></li>
<li><a href="graphics.html#subsection-33" data-scroll="subsection-33">Inkscape Images</a></li>
<li><a href="graphics.html#subsection-34" data-scroll="subsection-34">Copies of Images</a></li>
<li><a href="graphics.html#subsection-35" data-scroll="subsection-35">Caption Testing</a></li>
<li><a href="graphics.html#captionless-images" data-scroll="captionless-images">Captionless Images</a></li>
<li><a href="graphics.html#subsection-37" data-scroll="subsection-37">Technical Details</a></li>
</ul>
</li>
<li class="link"><a href="section-10.html" data-scroll="section-10"><span class="codenumber">10</span> <span class="title">Demonstrations</span></a></li>
<li class="link">
<a href="section-11.html" data-scroll="section-11"><span class="codenumber">11</span> <span class="title">Further Reading</span></a><ul>
<li><a href="section-11.html#subsection-38" data-scroll="subsection-38">Specialized Subdivisions</a></li>
<li><a href="section-11.html#exercises-3" data-scroll="exercises-3">Exercises</a></li>
<li><a href="section-11.html#exercises-section-multiple" data-scroll="exercises-section-multiple">More Exercises</a></li>
<li><a href="section-11.html#references-section" data-scroll="references-section">References</a></li>
</ul>
</li>
<li class="link">
<a href="lists.html" data-scroll="lists"><span class="codenumber">12</span> <span class="title">List Calisthenics</span></a><ul>
<li><a href="lists.html#subsection-39" data-scroll="subsection-39">Lists, Generally</a></li>
<li><a href="lists.html#subsection-40" data-scroll="subsection-40">List Spacing, I</a></li>
<li><a href="lists.html#subsection-41" data-scroll="subsection-41">List Spacing, II</a></li>
<li><a href="lists.html#test-second" data-scroll="test-second">List items containing only inline math</a></li>
<li><a href="lists.html#subsection-43" data-scroll="subsection-43">Description Lists</a></li>
<li><a href="lists.html#subsection-44" data-scroll="subsection-44">Named Lists</a></li>
<li><a href="lists.html#subsection-45" data-scroll="subsection-45">Testing List Decompositions</a></li>
<li><a href="lists.html#exercises-5" data-scroll="exercises-5">Exercises (with lists)</a></li>
<li><a href="lists.html#references-2" data-scroll="references-2">References (with lists in Annotations)</a></li>
</ul>
</li>
<li class="link"><a href="section-13.html" data-scroll="section-13"><span class="codenumber">13</span> <span class="title">Table Calisthenics</span></a></li>
<li class="link">
<a href="section-interactive-authored.html" data-scroll="section-interactive-authored"><span class="codenumber">14</span> <span class="title">Interactive Elements, Authored</span></a><ul>
<li><a href="section-interactive-authored.html#interactive-html5-canvas" data-scroll="interactive-html5-canvas">HTML5 Canvas</a></li>
<li><a href="section-interactive-authored.html#subsection-47" data-scroll="subsection-47">D3.js</a></li>
<li><a href="section-interactive-authored.html#subsection-48" data-scroll="subsection-48">SVG</a></li>
<li><a href="section-interactive-authored.html#subsection-49" data-scroll="subsection-49">JSXGraph</a></li>
<li><a href="section-interactive-authored.html#subsection-50" data-scroll="subsection-50">Sage Interacts</a></li>
<li><a href="section-interactive-authored.html#subsection-51" data-scroll="subsection-51">Geogebra</a></li>
<li><a href="section-interactive-authored.html#subsection-52" data-scroll="subsection-52">threejs</a></li>
</ul>
</li>
<li class="link">
<a href="section-interactive-server.html" data-scroll="section-interactive-server"><span class="codenumber">15</span> <span class="title">Interactive Elements, Server</span></a><ul>
<li><a href="section-interactive-server.html#subsection-geogebra-server" data-scroll="subsection-geogebra-server">GeoGebra</a></li>
<li><a href="section-interactive-server.html#subsection-54" data-scroll="subsection-54">Desmos Graphs</a></li>
<li><a href="section-interactive-server.html#subsection-55" data-scroll="subsection-55">CalcPlot3D</a></li>
<li><a href="section-interactive-server.html#subsection-56" data-scroll="subsection-56">Wolfram CDF</a></li>
</ul>
</li>
<li class="link"><a href="section-audio.html" data-scroll="section-audio"><span class="codenumber">16</span> <span class="title">Audio</span></a></li>
<li class="link">
<a href="section-video.html" data-scroll="section-video"><span class="codenumber">17</span> <span class="title">Video</span></a><ul>
<li><a href="section-video.html#subsection-57" data-scroll="subsection-57">Video Files</a></li>
<li><a href="section-video.html#subsection-58" data-scroll="subsection-58">YouTube</a></li>
<li><a href="section-video.html#subsection-59" data-scroll="subsection-59">Vimeo</a></li>
</ul>
</li>
<li class="link"><a href="section-cross-referencing.html" data-scroll="section-cross-referencing"><span class="codenumber">18</span> <span class="title">Cross-Referencing</span></a></li>
<li class="link"><a href="section-internationalization.html" data-scroll="section-internationalization"><span class="codenumber">19</span> <span class="title">Internationalization</span></a></li>
<li class="link"><a href="section-20.html" data-scroll="section-20"><span class="codenumber">20</span> <span class="title">Pre-Formatted Text</span></a></li>
<li class="link"><a href="section-programs.html" data-scroll="section-programs"><span class="codenumber">21</span> <span class="title">Program Listings</span></a></li>
<li class="link"><a href="section-22.html" data-scroll="section-22"><span class="codenumber">22</span> <span class="title">Units of Measure</span></a></li>
<li class="link">
<a href="section-side-by-side.html" data-scroll="section-side-by-side"><span class="codenumber">23</span> <span class="title">Side-By-Side Panels</span></a><ul>
<li><a href="section-side-by-side.html#subsection-60" data-scroll="subsection-60">Figures with Numbers Side-By-Side</a></li>
<li><a href="section-side-by-side.html#subsection-61" data-scroll="subsection-61">Images</a></li>
<li><a href="section-side-by-side.html#subsection-62" data-scroll="subsection-62">Common Side-By-Side Constructions</a></li>
<li><a href="section-side-by-side.html#subsection-63" data-scroll="subsection-63">Vertical Alignment</a></li>
<li><a href="section-side-by-side.html#subsection-64" data-scroll="subsection-64">Text Next to Text and Images</a></li>
<li><a href="section-side-by-side.html#subsection-65" data-scroll="subsection-65">Image Formats, Side-by-Sides</a></li>
<li><a href="section-side-by-side.html#subsection-66" data-scroll="subsection-66">Tables Side-By-Side</a></li>
<li><a href="section-side-by-side.html#subsection-67" data-scroll="subsection-67">Tables Next to Figures</a></li>
<li><a href="section-side-by-side.html#subsection-68" data-scroll="subsection-68">Tables Next to Text</a></li>
<li><a href="section-side-by-side.html#subsection-69" data-scroll="subsection-69">Tabular Next to Each Other</a></li>
<li><a href="section-side-by-side.html#subsection-70" data-scroll="subsection-70">Lists in Side-by-Sides</a></li>
<li><a href="section-side-by-side.html#stacking-side-by-side" data-scroll="stacking-side-by-side">Stacking: Back to Vertical Flow</a></li>
<li><a href="section-side-by-side.html#subsection-sbs-other-panels" data-scroll="subsection-sbs-other-panels">Other Panels</a></li>
<li><a href="section-side-by-side.html#subsection-73" data-scroll="subsection-73">Poems as Side-By-Side Panels</a></li>
<li><a href="section-side-by-side.html#subsection-sbsgroup" data-scroll="subsection-sbsgroup">Side-By-Side Groups</a></li>
<li><a href="section-side-by-side.html#subsection-75" data-scroll="subsection-75">Testing a Side-By-Side First</a></li>
<li><a href="section-side-by-side.html#subsection-76" data-scroll="subsection-76">Testing Styling of Related Elements</a></li>
</ul>
</li>
<li class="link"><a href="section-24.html" data-scroll="section-24"><span class="codenumber">24</span> <span class="title">Side-by-Side Gallery</span></a></li>
<li class="link"><a href="poetry.html" data-scroll="poetry"><span class="codenumber">25</span> <span class="title">Poetry</span></a></li>
<li class="link">
<a href="atomic-items.html" data-scroll="atomic-items"><span class="codenumber">26</span> <span class="title">Atomic Objects</span></a><ul><li><a href="atomic-items.html#atomic-image" data-scroll="atomic-image"><code class="code-inline tex2jax_ignore">&lt;image&gt;</code></a></li></ul>
</li>
<li class="link">
<a href="advanced-numbering.html" data-scroll="advanced-numbering"><span class="codenumber">27</span> <span class="title">Advanced Numbering</span></a><ul>
<li><a href="advanced-numbering.html#subsection-78" data-scroll="subsection-78">One</a></li>
<li><a href="advanced-numbering.html#subsection-79" data-scroll="subsection-79">Two</a></li>
<li><a href="advanced-numbering.html#subsection-80" data-scroll="subsection-80">Three</a></li>
<li><a href="advanced-numbering.html#subsection-81" data-scroll="subsection-81">Four</a></li>
<li><a href="advanced-numbering.html#subsection-82" data-scroll="subsection-82">Five</a></li>
<li><a href="advanced-numbering.html#subsection-local-theorems" data-scroll="subsection-local-theorems">Theorems in This Section</a></li>
<li><a href="advanced-numbering.html#subsection-with-an-exercise" data-scroll="subsection-with-an-exercise">A Title with ] a Right Bracket</a></li>
<li><a href="advanced-numbering.html#subsection-85" data-scroll="subsection-85">A Title with } a Right Brace</a></li>
<li><a href="advanced-numbering.html#subsection-86" data-scroll="subsection-86">A Title with \(a]b\) a Math Right Bracket</a></li>
<li><a href="advanced-numbering.html#subsection-87" data-scroll="subsection-87">Just an Exercise</a></li>
<li><a href="advanced-numbering.html#solutions-2" data-scroll="solutions-2">Solutions</a></li>
</ul>
</li>
<li class="link">
<a href="section-28.html" data-scroll="section-28"><span class="codenumber">28</span> <span class="title">Customizations</span></a><ul><li><a href="section-28.html#rename-facility" data-scroll="rename-facility">Renaming Document Parts, Plus This Is A Really Long Title So That We Can Test How Well It Reacts To The Right Margin And Wraps Around To Form A Couple Of Lines, Plus How It Sits Relative To The Number Of The Subsection</a></li></ul>
</li>
<li class="link"><a href="section-myopenmath.html" data-scroll="section-myopenmath"><span class="codenumber">29</span> <span class="title">MyOpenMath Interactive Problems</span></a></li>
<li class="link"><a href="ancillaries.html" data-scroll="ancillaries"><span class="codenumber">30</span> <span class="title">Ancillaries</span></a></li>
<li class="link">
<a href="worksheets.html" data-scroll="worksheets"><span class="codenumber">31</span> <span class="title">Worksheets</span></a><ul>
<li><a href="worksheets.html#subsection-89" data-scroll="subsection-89">About Worksheets</a></li>
<li><a href="worksheets.html#worksheet-1" data-scroll="worksheet-1">A Geometric Prelude</a></li>
<li><a href="worksheets.html#worksheet-2" data-scroll="worksheet-2">Networks Worksheet</a></li>
<li><a href="worksheets.html#worksheet-3" data-scroll="worksheet-3">Worksheet</a></li>
</ul>
</li>
<li class="link">
<a href="exercises-single.html" data-scroll="exercises-single"><span class="codenumber">32</span> <span class="title">Exercises, One Subsection</span></a><ul>
<li><a href="exercises-single.html#exercises-6" data-scroll="exercises-6">Exercise Collection</a></li>
<li><a href="exercises-single.html#references-3" data-scroll="references-3">More Reading</a></li>
</ul>
</li>
<li class="link"><a href="exercises-7.html" data-scroll="exercises-7"><span class="codenumber">33</span> <span class="title">Exercise Section, Structured</span></a></li>
<li class="link">
<a href="exercises-multiple.html" data-scroll="exercises-multiple"><span class="codenumber">34</span> <span class="title">Exercises, Multiple Subsections</span></a><ul>
<li><a href="exercises-multiple.html#subsection-90" data-scroll="subsection-90">Faux Subsection</a></li>
<li><a href="exercises-multiple.html#exercises-drill" data-scroll="exercises-drill">Drill Exercises</a></li>
<li><a href="exercises-multiple.html#exercises-9" data-scroll="exercises-9">Challenging Exercises</a></li>
<li><a href="exercises-multiple.html#exercises-10" data-scroll="exercises-10">Impossible Exercises</a></li>
<li><a href="exercises-multiple.html#references-4" data-scroll="references-4">More Reading</a></li>
</ul>
</li>
<li class="link"><a href="exercises.html" data-scroll="exercises"><span class="codenumber">35</span> <span class="title">Exercises, Top-Level</span></a></li>
<li class="link"><a href="backmatter.html" data-scroll="backmatter"><span class="title">Reference</span></a></li>
<li class="link"><a href="appendix-1.html" data-scroll="appendix-1"><span class="codenumber">A</span> <span class="title">Notation</span></a></li>
<li class="link"><a href="solutions-backmatter.html" data-scroll="solutions-backmatter"><span class="codenumber">B</span> <span class="title">Solutions to Selected Exercises</span></a></li>
<li class="link"><a href="solutions-4.html" data-scroll="solutions-4"><span class="codenumber">C</span> <span class="title">Solutions to a Single Exercises Division</span></a></li>
<li class="link"><a href="appendix-results.html" data-scroll="appendix-results"><span class="codenumber">D</span> <span class="title">List of Results</span></a></li>
<li class="link">
<a href="appendix-3.html" data-scroll="appendix-3"><span class="codenumber">E</span> <span class="title">A Structured Appendix</span></a><ul><li><a href="appendix-3.html#subsection-91" data-scroll="subsection-91">A Subsection in an Appendix</a></li></ul>
</li>
<li class="link"><a href="appendix-4.html" data-scroll="appendix-4"><span class="codenumber">F</span> <span class="title">Index</span></a></li>
<li class="link"><a href="references-backmatter.html" data-scroll="references-backmatter"><span class="title">References</span></a></li>
<li class="link">
<a href="references.html" data-scroll="references"><span class="codenumber">G</span> <span class="title">Multiple References</span></a><ul>
<li><a href="references.html#subsection-92" data-scroll="subsection-92">Multiple Specialized References</a></li>
<li><a href="references.html#references-6" data-scroll="references-6">General References</a></li>
<li><a href="references.html#references-7" data-scroll="references-7">Specialized References</a></li>
</ul>
</li>
<li class="link"><a href="index-1.html" data-scroll="index-1"><span class="title">Index</span></a></li>
<li class="link"><a href="colophon-1.html" data-scroll="colophon-1"><span class="title">Colophon</span></a></li>
</ul></nav><div class="extras"><nav><a class="feedback-link" href="not-implemented.html" target="_blank">Feedback</a><a class="mathbook-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section class="section" id="graphics"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">9</span> <span class="title">Graphics</span>
</h2>
<a href="graphics.html" class="permalink">¶</a><section class="introduction" id="introduction-13"><p id="p-311">In addition to including images created externally (e.g. photographs),  PreTeXt supports several languages for describing diagrams and pictures with human-readable source code (i.e. plain text), rather than using a “paint” program.  This section describes the various methods for incorporationg, or generating, graphis, images or diagrams.</p></section><section class="subsection" id="subsection-28"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.1</span> <span class="title">Images from External Sources</span>
</h3>
<p id="p-312">If you have raster images (photographs, etc.) then they are specified with complete filenames, as above in Figure <a class="xref" data-knowl="./knowl/figure-function-derivative.html" title="Figure 5.2">5.2</a> or just below.</p>
<figure class="figure figure-like" id="figure-2"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;"><img src="images/nz-landscape.jpg" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.1<span class="period">.</span></span><span class="space"> </span>New Zealand Landscape, <a class="external" href="https://commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg" target="_blank"><code class="code-inline tex2jax_ignore">commons.wikimedia.org</code></a><a data-knowl="" class="id-ref fn-knowl" data-refid="hk-fn-12" id="fn-12"><sup> 1 </sup></a>, CC-BY-SA-2.0</figcaption></figure><div class="hidden-content tex2jax_ignore" id="hk-fn-12"><div class="fn"><code class="code-inline tex2jax_ignore">https://commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg</code></div></div>
<p id="p-313">If you have existing images that are vector graphics, then PDF format works best for <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output and SVG format works best for HTML.  The utility <code class="code-inline tex2jax_ignore">pdf2svg</code> works well for converting PDF to SVG.  In this case, specify your source as a filename, but leave off the file extension, and the appropriate version will be used for the current output format.</p>
<p id="p-314">The image below is provided from a PDF file in <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output, and was converted to an SVG for use with the HTML output.  It has been explicitly scaled to a width of 65% of the text width.</p>
<figure class="figure figure-like" id="figure-complete-graph"><div class="image-box" style="width: 65%; margin-left: 17.5%; margin-right: 17.5%;"><img src="images/complete-graph.svg" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.2<span class="period">.</span></span><span class="space"> </span>Complete graph on \(16\) vertices, from <code class="code-inline tex2jax_ignore">www.texample.net</code></figcaption></figure><article class="remark remark-like" id="remark-2"><h6 class="heading">
<span class="type">Remark</span><span class="space"> </span><span class="codenumber">9.3</span><span class="period">.</span><span class="space"> </span><span class="title">Footnote Buried.</span>
</h6>
<p id="p-315">Nested <code class="code-inline tex2jax_ignore">tcolorbox</code> (in <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> conversion) need special care when footnotes are interior.</p>
<div class="sidebyside"><div class="sbsrow" style="margin-left:20%;margin-right:30%;"><div class="sbspanel" style="width:100%;justify-content:flex-start;">
<p id="p-316">A paragraph interior to a <code class="code-inline tex2jax_ignore">sidebyside</code> with a footnote<a data-knowl="" class="id-ref fn-knowl" data-refid="hk-fn-13" id="fn-13"><sup> 2 </sup></a> buried inside the paragraph.</p>
<div class="hidden-content tex2jax_ignore" id="hk-fn-13"><div class="fn">Interior footnote.</div></div>
</div></div></div>
<p id="p-317">The final paragraph of this remark, randomly placed, to test footnotes in <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> conversions.</p></article></section><section class="subsection" id="subsection-29"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.2</span> <span class="title"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> images</span>
</h3>
<p id="p-318">There are several graphics engine packages that a <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> document can employ. Code from these packages renders diagrams automatically as part of normal processing of <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> files.  For HTML output the <code class="code-inline tex2jax_ignore">mbx</code> script produces SVG versions of the pictures.  The script can also produce standalone <span class="latex-logo">T<span class="E">e</span>X</span> source files, PDFs, PNGs, and EPSs. The packages should be loaded in <code class="code-inline tex2jax_ignore">docinfo/latex-image-preamble</code>, which is also where global package settings should be made. If any ampersands occur in your <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> code you should use the <code class="code-inline tex2jax_ignore">\amp</code> macro pre-defined by PreTeXt. These first examples are from the <a class="external" href="http://www.texample.net/tikz/examples/" target="_blank">TeXample.net</a> site.  Note that any <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> macros used in the rest of your document may be employed in the <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span>-standalone or Asymptote diagrams (with this feature coming to Sage graphics next?).</p>
<figure class="figure figure-like" id="figure-tikz-electronics"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="images/tikz-electronics.svg" style="width: 100%; height: auto;" alt="A pile of electronic components wired together"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.4<span class="period">.</span></span><span class="space"> </span>TikZ Electronics Diagram</figcaption></figure><p id="p-319">The next example began life in <a class="external" href="http://www.frontiernet.net/~eugene.ressler/" target="_blank">Sketch</a>, which will output TikZ code (though the code has been edited by hand for readability).</p>
<figure class="figure figure-like" id="figure-tikz-cone3D"><div class="image-box" style="width: 70%; margin-left: 15%; margin-right: 15%;"><img src="images/tikz-cone.svg" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.5<span class="period">.</span></span><span class="space"> </span>TikZ Cone Drawing</figcaption></figure><p id="p-320">The pgfplots package was included in <code class="code-inline tex2jax_ignore">docinfo/latex-image-preamble</code>. Here, it is used. Also, here we demonstrate using <code class="code-inline tex2jax_ignore">\amp</code> where you would normally use an ampersand in <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span>. There are known issues with <code class="code-inline tex2jax_ignore">xelatex</code> processing any gradient shading in <code class="code-inline tex2jax_ignore">tikz</code>. To (successfully) create the gradient shading in the 3D image here, you may need to use <code class="code-inline tex2jax_ignore">pdflatex</code> until <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> developers resolve this issue.</p>
<figure class="figure figure-like" id="figure-pgfplots-demo"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="images/pgfplots-demo.svg" style="width: 100%; height: auto;" alt="A pgfplots example, with a function, a parametric curve, and some points plotted."></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.6<span class="period">.</span></span><span class="space"> </span>Sample pgfplots plot</figcaption></figure><p id="p-321">A plot might use a graphics language to draw the axes and grid, but the data might be from an experiment and live in an external file that you do not wish to place in your source.  Place such a file in a subdirectory directly below the directory where your master source file resides.  In the example below <code class="code-inline tex2jax_ignore">data</code> is the directory and <code class="code-inline tex2jax_ignore">hodgkin-huxley-data.dat</code> is the file with the data points.  You <em class="emphasis">must</em> place the file in a subdirectory (it cannot reside next to your source file), but that directory may have subdirectories if you have many such files and want to organize them that way.  Then the <code class="code-inline tex2jax_ignore">--include</code> command-line argument to the <code class="code-inline tex2jax_ignore">mbx</code> script will manage the external files properly as it creates individual image files.</p>
<p id="p-322">It is still your responsibility to be sure this directory of external data files follows your <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output to whatever directory you use to convert to a PDF and is in the right location for the relative path given in the XML source.  The discussion above only applies to generating individual image files, such as you would need for the HTML output.</p>
<figure class="figure figure-like" id="figure-pgfplots-data-demo"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="images/pgfplots-data-demo.svg" style="width: 100%; height: auto;" alt="A pgfplots example, with external data plotted."></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.7<span class="period">.</span></span><span class="space"> </span>External data in a pgfplots plot</figcaption></figure><p id="p-323">PSTricks is a <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> package for drawing diagrams and pictures, dating back to the days before <abbr class="initialism">PDF</abbr>, when PostScript (<abbr class="initialism">PS</abbr>) was king.  Given its history, it does not seem to work easily with the <code class="code-inline tex2jax_ignore">pdflatex</code> engine.  But it will work easily with the <code class="code-inline tex2jax_ignore">xelatex</code> engine.  We try to keep this present sample document workable with both engines, so we have presented an example of the use of PSTricks in the <code class="code-inline tex2jax_ignore">xelatex</code>-exclusive sample document where we test obscure fonts and characters.  So your best bet is to look there.</p>
<p id="p-324">There are suggestions online that</p>
<pre class="code-block tex2jax_ignore">\usepackage[pdf]{pstricks}</pre>
<p data-braille="continuation">along with</p>
<pre class="code-block tex2jax_ignore">pdflatex --shell-escape *.tex</pre>
<p data-braille="continuation">is workable.  We could not make it happen, and a “shell escape” can be a dangerous security hole.  That said, updates to this approach are welcome.</p></section><section class="subsection" id="subsection-30"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.3</span> <span class="title">Asymptote</span>
</h3>
<p id="p-325">The Asymptote graphics language may be placed in your source to draw graphs, diagrams or pictures.  Rules for formatting code are identical to those for Sage code.  For more on Asymptote see <a class="external" href="http://asymptote.sourceforge.net/" target="_blank"><code class="code-inline tex2jax_ignore">http://asymptote.sourceforge.net/</code></a>.</p>
<p id="p-326">This is a simple physics diagram about levers, taken from the Asymptote documentation.  In the HTML version of this article, the images are SVG's and so should scale nicely when you zoom in on the page.</p>
<figure class="figure figure-like" id="figure-asymptote-levers"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><object data="images/asymptote-lever.html" id="asymptote-lever" width="600" height="600"><img src="images/asymptote-lever.svg" style="width: 100%; height: auto;" alt="Moments on a lever"></object></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.8<span class="period">.</span></span><span class="space"> </span>Asymptote Lever Demonstration</figcaption></figure><p id="p-327">And a colorful contour plot with logarithmic scale.  Again, from the Asymptote documentation.</p>
<p id="p-328">This SVG image includes a PNG image for the gradient.  It needs some work and is temporarily unavailable.</p>
<figure class="figure figure-like" id="figure-asymptote-contour-plot"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><object data="images/asymptote-contour.html" id="asymptote-contour" width="600" height="600"><img src="images/asymptote-contour.svg" style="width: 100%; height: auto;" alt=""></object></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.9<span class="period">.</span></span><span class="space"> </span>Asymptote Contour Plot</figcaption></figure><p id="p-329">Here is the lever diagram again, but now we have added an integral to one of the legends, <em class="emphasis">using a <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> macro of our own,</em> which is idential to one we used in the early part of this article.  The point is, we only needed to define the macro once for the entire document, and it is available as we make Asymptote diagrams.  This device can be used to maintain flexibility and consistency in your choice of notation.</p>
<figure class="figure figure-like" id="figure-asymptote-latex-macro"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;"><object data="images/asymptote-lever-integral.html" id="asymptote-lever-integral" width="480" height="480"><img src="images/asymptote-lever-integral.svg" style="width: 100%; height: auto;" alt=""></object></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.10<span class="period">.</span></span><span class="space"> </span>Aymptote Lever, plus Integral</figcaption></figure><p id="p-330">And finally, an example of a 3-D graph (from the documentation again).</p>
<p id="p-331">This SVG image includes a PNG image for the gradient.  It needs some work and is temporarily unavailable.</p>
<figure class="figure figure-like" id="figure-asymptote-surface"><div class="image-box" style="width: 40%; margin-left: 30%; margin-right: 30%;"><object data="images/asymptote-surface.html" id="asymptote-surface" width="240" height="240"><img src="images/asymptote-surface.svg" style="width: 100%; height: auto;" alt=""></object></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.11<span class="period">.</span></span><span class="space"> </span>Asymptote 3-D Surface</figcaption></figure></section><section class="subsection" id="graphics-asymptote-webgl"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.4</span> <span class="title">Asymptote + WebGL</span>
</h3>
<a href="graphics.html#graphics-asymptote-webgl" class="permalink">¶</a><p id="p-332">Asymptote can create an <abbr class="initialism">HTML</abbr> file that is an interactive version of a 3D shape.  At this writing (2019-10-21) we do not have support via the <code class="code-inline tex2jax_ignore">mbx</code> script for producing these files, so you are on your own in the early going.  The other distinction is that the author needs to provide the aspect ratio of the figure, and this should be placed on the <code class="code-inline tex2jax_ignore">&lt;asymptote&gt;</code> element (not on the <code class="code-inline tex2jax_ignore">&lt;image&gt;</code> element).  <a class="xref" data-knowl="./knowl/figure-asymptote-workcone.html" title="Figure 9.12">Figure 9.12</a> is from the <a class="external" href="http://asymptote.sourceforge.net/gallery/3Dwebgl/" target="_blank">Asymptote Gallery</a><a data-knowl="" class="id-ref fn-knowl" data-refid="hk-fn-14" id="fn-14"><sup> 3 </sup></a>.</p>
<div class="hidden-content tex2jax_ignore" id="hk-fn-14"><div class="fn"><code class="code-inline tex2jax_ignore">http://asymptote.sourceforge.net/gallery/3Dwebgl/</code></div></div>
<figure class="figure figure-like" id="figure-asymptote-workcone"><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><object data="images/asymptote-workcone.html" id="asymptote-workcone" width="300" height="326"><img src="images/asymptote-workcone.svg" style="width: 100%; height: auto;" alt=""></object></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.12<span class="period">.</span></span><span class="space"> </span>Work Cone (Asymptote Interactive 3D Image)</figcaption></figure></section><section class="subsection" id="subsection-32"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.5</span> <span class="title">Sage Plots</span>
</h3>
<p id="p-333">Any of the numerous capabilities of Sage may be used to produce any graphics object, be it the simple graph of a single-variable function or some realization of a more complicated object.  All of the usual rules about formatting Sage code (esp. indentation) apply, along with one more caveat.  The last line of your Sage code <em class="alert">must</em> return a Sage <code class="code-inline tex2jax_ignore">Graphics</code> object (or 3D plot).  The <code class="code-inline tex2jax_ignore">mbx</code> script will isolate this last line, use it as the RHS of an assignment statement, and the Sage <code class="code-inline tex2jax_ignore">.save()</code> method will be called to generate the image, which is either a Portable Document Format (PDF) file amenable to <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output, or a Scalable Vector Graphics (SVG) file amenable to HTML output.  For visualizations of 3D plots, Sage will only produce Portable Network Graphics (PNG) files, which can be included in HTML pages or <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output.</p>
<figure class="figure figure-like" id="figure-sage-parabola"><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><img src="images/sageplot-parabola.svg" style="width: 100%; height: auto;" alt="A standard parabola on the interval [-2,4]" onerror="this.src='images/sageplot-parabola.png';this.onerror=null;"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.13<span class="period">.</span></span><span class="space"> </span>A Sage standard parabola, on \([-2,4]\)</figcaption></figure><p id="p-334">Pay careful attention to the requirement that the last line of your code be a graphics object.  In particular, while <code class="code-inline tex2jax_ignore">show()</code> might appear to do the right thing, it evaluates to Python's <code class="code-inline tex2jax_ignore">None</code> object and that is just what you will get.  The code for Figure <a class="xref" data-knowl="./knowl/figure-sage-double-plot.html" title="Figure 9.14">9.14</a> illustrates creating two graphics objects and combining them into an expression on the last line that evaluates to a graphics object.</p>
<figure class="figure figure-like" id="figure-sage-double-plot"><div class="image-box" style="width: 45%; margin-left: 27.5%; margin-right: 27.5%;"><img src="images/sageplot-updown.svg" style="width: 100%; height: auto;" alt="" onerror="this.src='images/sageplot-updown.png';this.onerror=null;"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.14<span class="period">.</span></span><span class="space"> </span>Two Sage plots on one set of axes</figcaption></figure><p id="p-335">Sage code comprised of just a single line was once mishandled, leading to <em class="emphasis">no ouput</em>.  From Jean-Sébastien Turcotte we have the example that revealed the problem.</p>
<figure class="figure figure-like" id="figure-sage-exosagevec1"><div class="image-box" style="width: 25%; margin-left: 37.5%; margin-right: 37.5%;"><img src="images/sageplot-exosagevec1.svg" style="width: 100%; height: auto;" alt="Les vecteurs \(\vec{u}\) et \(\vec{v}\)sont tracés tel que demandé, respectivement en rouge et en bleu." onerror="this.src='images/sageplot-exosagevec1.png';this.onerror=null;"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.15<span class="period">.</span></span><span class="space"> </span>Les vecteurs \(\vec{u}\) et \(\vec{v}\)</figcaption></figure><p id="p-336">The following examples are from the <a class="external" href="http://www.sagemath.org/tour-graphics.html" target="_blank">Sage Tour</a>.  We package them into a <code class="code-inline tex2jax_ignore">sidebyside</code> layout element, see <a href="section-side-by-side.html" class="internal" title="Section 23: Side-By-Side Panels">Section 23</a>.</p>
<div class="sidebyside"><div class="sbsrow" style="margin-left:5%;margin-right:5%;">
<div class="sbspanel" style="width:44.4444444444444%;justify-content:flex-start;"><figure class="figure figure-like" id="figure-sage-multigraph"><img src="images/sageplot-sentence-multigraph.svg" style="width: 100%; height: auto;" alt="" onerror="this.src='images/sageplot-sentence-multigraph.png';this.onerror=null;"><figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.16<span class="period">.</span></span><span class="space"> </span>A Sage multigraph of a sentence</figcaption></figure></div>
<div class="sbspanel" style="width:44.4444444444444%;justify-content:flex-start;"><figure class="figure figure-like" id="figure-sage-polynomial-approximation"><img src="images/sageplot-polynomial-approximation.svg" style="width: 100%; height: auto;" alt="" onerror="this.src='images/sageplot-polynomial-approximation.png';this.onerror=null;"><figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.17<span class="period">.</span></span><span class="space"> </span>Sage polynomial approximations of \(f(x)=1/(1+25x^2)\)</figcaption></figure></div>
</div></div>
<p id="p-337">From the Sage documentation, with slight modifications, credited to Douglas Summers-Stay.  A plot of the implicity defined surface</p>
<div class="displaymath">
\begin{equation*}
2 = \cos(x + ty) + \cos(x - ty) + \cos(y + tz) + \cos(y - tz) + \cos(z - tx) + \cos(z + tx)
\end{equation*}
</div>
<p data-braille="continuation">in rectangular \(xyz\) coordinates, with \(t\) equal to the golden ratio.</p>
<figure class="figure figure-like" id="figure-sage-implicit-surface"><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><img src="images/sageplot-implicit-surface.svg" style="width: 100%; height: auto;" alt="" onerror="this.src='images/sageplot-implicit-surface.png';this.onerror=null;"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.18<span class="period">.</span></span><span class="space"> </span>A Sage implicitly defined 3D surface</figcaption></figure></section><section class="subsection" id="subsection-33"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.6</span> <span class="title">Inkscape Images</span>
</h3>
<p id="p-338"><a class="external" href="https://inkscape.org/" target="_blank">Inkscape</a><a data-knowl="" class="id-ref fn-knowl" data-refid="hk-fn-15" id="fn-15"><sup> 4 </sup></a> is a great tool for creating images.  It ticks all the boxes: open source, mature, cross-platform, standards-compliant.  Read much more about it in The PreTeXt Guide.  In <abbr class="initialism">HTML</abbr> output the two images below are both in <abbr class="initialism">SVG</abbr> format.  The first is “pure” SVG, while the second has embedded information that makes it easier to edit in Inkscape.  You could view the source for this page in the <abbr class="initialism">HTML</abbr> version, deduce the filename of the second image, download it, and manipulate it profitably with Inkscape.  Both files are quite small, but the first is half the size of the second.  In <abbr class="initialism">PDF</abbr> the two images come from files that are identical, so nothing is being tested.  The <abbr class="initialism">PDF</abbr> version is smaller still.</p>
<div class="hidden-content tex2jax_ignore" id="hk-fn-15"><div class="fn"><code class="code-inline tex2jax_ignore">inkscape.org/</code></div></div>
<figure class="figure figure-like" id="figure-19"><div class="sidebyside"><div class="sbsrow" style="margin-left:12.5%;margin-right:12.5%;">
<div class="sbspanel" style="width:33.3333333333333%;justify-content:flex-start;"><img src="images/inkscape-stars-plain.svg" style="width: 100%; height: auto;" alt=""></div>
<div class="sbspanel" style="width:33.3333333333333%;justify-content:flex-start;"><img src="images/inkscape-stars-native.svg" style="width: 100%; height: auto;" alt=""></div>
</div></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.19<span class="period">.</span></span><span class="space"> </span>Inkscape Stars, Plain SVG (left), Inkscape SVG (right), from Bethany Llewellyn</figcaption></figure></section><section class="subsection" id="subsection-34"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.7</span> <span class="title">Copies of Images</span>
</h3>
<p id="p-339">Sometimes you want to use the same image more than once.  For a raster image, you can just point to it again.  You are free to wrap it in a <code class="code-inline tex2jax_ignore">figure</code> and thus change the caption.  It will get a new number as a new figure, and you will need to assign a unique <code class="code-inline tex2jax_ignore">@xml:id</code> attribute.  Maybe appending <code class="code-inline tex2jax_ignore">-copy-2</code>, or similar, to the <code class="code-inline tex2jax_ignore">@xml:id</code> will be helpful.</p>
<figure class="figure figure-like" id="figure-raster-image-copy"><div class="image-box" style="width: 30%; margin-left: 35%; margin-right: 35%;"><img src="images/cross-square.png" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.20<span class="period">.</span></span><span class="space"> </span>Copy of raster image, in a figure, so now numbered and captioned</figcaption></figure><p id="p-340">If you have a figure generated from source code (such as in TikZ) you can place the code into a file and <code class="code-inline tex2jax_ignore">xinclude</code> it twice.  The <code class="code-inline tex2jax_ignore">mbx</code> script will make two copies if you include the source twice, but with different names (generated from the different <code class="code-inline tex2jax_ignore">@xml:id</code>).  Furthermore, with the <code class="code-inline tex2jax_ignore">@parse</code> attribute on the <code class="code-inline tex2jax_ignore">xinclude</code> element set to <code class="code-inline tex2jax_ignore">text</code> you are absolved from escaping the dangerous XML characters (see <a href="text-in-paragraphs.html#subsection-xml-escape" class="internal" title="Subsection 8.1: Special XML characters">Subsection 8.1</a>) and definitely have no need for the often mis-understood <code class="code-inline tex2jax_ignore">CDATA</code> mechanism.  We demonstrate this with the sample book, since it is all set up with the <code class="code-inline tex2jax_ignore">xinclude</code> mechanism.  See the two plots of the 8-th roots of unity in the complex numbers section of the chapter on cyclic groups.</p></section><section class="subsection" id="subsection-35"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.8</span> <span class="title">Caption Testing</span>
</h3>
<p id="p-341">A caption could be as substantial as a paragraph, here we test out one such example.</p>
<figure class="figure figure-like" id="figure-long-caption"><div class="image-box" style="width: 20%; margin-left: 40%; margin-right: 40%;"><img src="images/cross-square.png" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">9.21<span class="period">.</span></span><span class="space"> </span>A caption can be a whole paragraph with lots of technical details, and maybe a hyperlink to something external, such as <a class="external" href="https://pretextbook.org" target="_blank"><code class="code-inline tex2jax_ignore">pretextbook.org</code></a>.  There could be some inline mathematics, such as \(x^2 + y^2 = c^2\text{.}\)  Would a knowl open here?  Recursively?  Let's see: <a class="xref" data-knowl="./knowl/figure-long-caption.html" title="Figure 9.21">9.21</a>.  Display mathematics, side-by-sides, theorems, and lots of other things should be banned.  Footnotes sound like a bad idea.  Strange characters should be fine: §.</figcaption></figure></section><section class="subsection" id="captionless-images"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.9</span> <span class="title">Captionless Images</span>
</h3>
<a href="graphics.html#captionless-images" class="permalink">¶</a><p id="p-342">We strongly suggest placing images within a <code class="code-inline tex2jax_ignore">&lt;figure&gt;</code>, as we have done above, so that you can reference them, and use the (required) <code class="code-inline tex2jax_ignore">&lt;caption&gt;</code> to explain what they are.  However there are places, such as a <code class="code-inline tex2jax_ignore">&lt;preface&gt;</code>, where numbered itmes are not permitted.  So you might want a solo image there.  Or maybe graphics are an illustration of sorts, and a numbered figure feels like overkill.  Or it is part of an <code class="code-inline tex2jax_ignore">&lt;exercise&gt;</code> or <code class="code-inline tex2jax_ignore">&lt;proof&gt;</code> of a <code class="code-inline tex2jax_ignore">&lt;theorem&gt;</code>. But notice that you cannot then use this image as the target of a cross-reference, so you may need to refer to some enclosing container.</p>
<p id="p-343">The image can be scaled by specifying the <code class="code-inline tex2jax_ignore">@width</code> as a percentage, including the percent-sign (%).  The height is scaled to preserve the aspect ratio.  There is no facility to change the height, it is your responsibility to manage the aspect ratio independently.  The <code class="code-inline tex2jax_ignore">@margins</code> can be given as a pair of percentages, separated by a space.  The <code class="code-inline tex2jax_ignore">@width</code> defaults to 100%, while <code class="code-inline tex2jax_ignore">@margins</code> defaults to the value <code class="code-inline tex2jax_ignore">auto</code>, which will center the image.  Missing values are computed sensibly, and there is robust error-checking.  The layout control here is a subset of what is available for the more elaborate <code class="code-inline tex2jax_ignore">&lt;sidebyside&gt;</code> element, see <a href="section-side-by-side.html" class="internal" title="Section 23: Side-By-Side Panels">Section 23</a>.</p>
<p id="p-344">Two simple examples. The first has width <code class="code-inline tex2jax_ignore">10%</code> and so defaults to being centered, and the second has width <code class="code-inline tex2jax_ignore">10%</code> and left margin of <code class="code-inline tex2jax_ignore">25%</code>.</p>
<div class="image-box" style="width: 10%; margin-left: 45%; margin-right: 45%;"><img src="images/cross-square.png" style="width: 100%; height: auto;" alt=""></div>
<p id="p-345">A paragraph, just to show where the first stops and the second ends.</p>
<div class="image-box" style="width: 10%; margin-left: 25%; margin-right: 65%;"><img src="images/cross-square.png" style="width: 100%; height: auto;" alt=""></div>
<p id="p-346">You might wish to place a single image flush-left, or flush-right.  You can specify the <code class="code-inline tex2jax_ignore">margins</code> attribute as a pair of percentages for different left and right margins.  The following are laid out with two margins, with a 0% left margin and right margin (respectively).</p>
<div class="image-box" style="width: 10%; margin-left: 0%; margin-right: 90%;"><img src="images/cross-square.png" style="width: 100%; height: auto;" alt=""></div>
<div class="image-box" style="width: 10%; margin-left: 90%; margin-right: 0%;"><img src="images/cross-square.png" style="width: 100%; height: auto;" alt=""></div>
<p id="p-347">We place two images right above one another, to test spacing of consecutive images (provided they stay on the same page!).</p>
<div class="image-box" style="width: 10%; margin-left: 10%; margin-right: 80%;"><img src="images/cross-square.png" style="width: 100%; height: auto;" alt=""></div>
<div class="image-box" style="width: 10%; margin-left: 10%; margin-right: 80%;"><img src="images/cross-square.png" style="width: 100%; height: auto;" alt=""></div>
<article class="paragraphs" id="paragraphs-4"><h5 class="heading"><span class="title">Testing (2019-06-02).</span></h5>
<p id="p-348">All the images above are specified by filenames.  We need to test how various options behave when incorporated into the (new) implementation for images, being introduced with solo images.</p>
<p id="p-349">A <code class="code-inline tex2jax_ignore">tikz</code> image recycled from above, now 40% width, with 40% left margin, 20% right margin.</p>
<div class="image-box" style="width: 40%; margin-left: 40%; margin-right: 20%;"><img src="images/tikz-cone-solo.svg" style="width: 100%; height: auto;" alt=""></div>
<p id="p-350">A <code class="code-inline tex2jax_ignore">pgfplot</code> image recycled from above, now 20% width, with 40% left margin, 40% right margin, and no longer legible.</p>
<div class="image-box" style="width: 20%; margin-left: 40%; margin-right: 40%;"><img src="images/pgfplots-data-demo-solo.svg" style="width: 100%; height: auto;" alt=""></div>
<p id="p-351">An Asymptote image, with zero layout control, so 100% width.</p>
<div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><object data="images/asymptote-lever-solo.html" id="asymptote-lever-solo" width="600" height="600"><img src="images/asymptote-lever-solo.svg" style="width: 100%; height: auto;" alt="Moments on a lever"></object></div>
<p id="p-352">A Sage example, pushed to the right margin.</p>
<div class="image-box" style="width: 30%; margin-left: 70%; margin-right: 0%;"><img src="images/sageplot-parabola-solo.svg" style="width: 100%; height: auto;" alt="A standard parabola on the interval [-2,4]" onerror="this.src='images/sageplot-parabola-solo.png';this.onerror=null;"></div></article></section><section class="subsection" id="subsection-37"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">9.10</span> <span class="title">Technical Details</span>
</h3>
<p id="p-353">The table below is a summary of how graphics and images are specified, constructed and manipulated.  Additional processing is indicated by reference to the Python script <code class="code-inline tex2jax_ignore">mbx</code>.  Images need to be placed relative to the <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> file that includes them during compilation, and placed relative to the <abbr class="initialism">HTML</abbr> files which reference/include them.  Author-provided image files may be placed in any subdirectory, and the <code class="code-inline tex2jax_ignore">@source</code> attribute should include the complete relative path with the subdirectory.  Files generated by the <code class="code-inline tex2jax_ignore">mbx</code> script will be specified in the output using the relative directory <code class="code-inline tex2jax_ignore">images</code>, which can be changed using the <code class="code-inline tex2jax_ignore">directory.images</code> stringparam.  There is no reason author-provided files cannot also be placed in this same directory (presuming no duplicate names). [This table is presently more readable in HTML, the PDF version will improve.]</p>
<div class="sidebyside"><div class="sbsrow" style="margin-left:0%;margin-right:0%;"><div class="sbspanel fixed-width" style="width:100%;justify-content:flex-start;"><table>
<tr>
<td class="l m b2 r0 l0 t2 lines">MBX Element</td>
<td class="l m b2 r0 l0 t2 lines">Specification</td>
<td class="l m b2 r0 l0 t2 lines">
<span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span>/Print</td>
<td class="l m b2 r0 l0 t2 lines">HTML</td>
<td class="l m b2 r0 l0 t2 lines" data-braille="last-cell">Notes</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/@source</code></td>
<td class="l m b1 r0 l0 t0 lines">full relative path, w/ extension</td>
<td class="l m b1 r0 l0 t0 lines">directly included</td>
<td class="l m b1 r0 l0 t0 lines">directly included</td>
<td class="l m b1 r0 l0 t0 lines" data-braille="last-cell">author-provided <abbr class="initialism">PNG</abbr>, <abbr class="initialism">JPEG</abbr>
</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/@source</code></td>
<td class="l m b1 r0 l0 t0 lines">full relative path, w/o extension</td>
<td class="l m b1 r0 l0 t0 lines">presumes <abbr class="initialism">PDF</abbr>
</td>
<td class="l m b1 r0 l0 t0 lines">presumes <abbr class="initialism">SVG</abbr>
</td>
<td class="l m b1 r0 l0 t0 lines" data-braille="last-cell">author-provided</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/latex-image-code</code></td>
<td class="l m b1 r0 l0 t0 lines">
<span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span>-compatible source</td>
<td class="l m b1 r0 l0 t0 lines">directly included</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">SVG</abbr> via <code class="code-inline tex2jax_ignore">mbx</code>
</td>
<td class="l m b1 r0 l0 t0 lines" data-braille="last-cell">e.g. tikz, pgfplots, xypic</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/sageplot</code></td>
<td class="l m b1 r0 l0 t0 lines">Sage code</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">PDF</abbr> via <code class="code-inline tex2jax_ignore">mbx</code>
</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">SVG</abbr> via <code class="code-inline tex2jax_ignore">mbx</code>
</td>
<td class="l m b1 r0 l0 t0 lines" data-braille="last-cell">
<abbr class="initialism">PNG</abbr> for 3-D</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/asymptote</code></td>
<td class="l m b1 r0 l0 t0 lines">Asymptote code</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">PDF</abbr> via <code class="code-inline tex2jax_ignore">mbx</code>
</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">SVG</abbr> via <code class="code-inline tex2jax_ignore">mbx</code>
</td>
<td class="l m b1 r0 l0 t0 lines" data-braille="last-cell"></td>
</tr>
</table></div></div></div>
<p id="p-354">In the early stages of a writing project, it may be best not to track provisional image files built with <code class="code-inline tex2jax_ignore">mbx</code> under version control, and just regenerate them periodically (see the <code class="code-inline tex2jax_ignore">-r</code> option for <code class="code-inline tex2jax_ignore">mbx</code>).  As a project matures, then it makes sense to put stable files under version control for collaborators and others.  In every case, managing graphics files (and other aspects of production), is much more pleasurable with a script (shell, Makefile, etc.)</p></section></section></div></main>
</div>
<script>createAllVisualizersFromHtmlAttrs();</script>
</body>
</html>
